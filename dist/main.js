(()=>{"use strict";const e=()=>{document.querySelector("#side-bar");const t=document.querySelector("#projects"),n=document.querySelector("#todo-list"),o=(t,d)=>{const o=document.createElement("li");o.setAttribute("id","add-task-li");const c=document.createElement("button");c.setAttribute("class","add-task");const s=document.createElement("span");s.setAttribute("class","add-button"),s.textContent="+",c.appendChild(s);const r=document.createElement("span");r.textContent="Add Task",c.appendChild(r),c.addEventListener("click",(()=>e().create_add_task_form(d))),o.appendChild(c),t?t.appendChild(o):n.appendChild(o)},c=(e,t)=>{e?e.innerHTML="":n.innerHTML="";for(let e=0;e<t.length;e++){const d=document.createElement("li"),o=document.createElement("button");o.setAttribute("class","todo-task");const c=document.createElement("div");c.setAttribute("class","checkbox"),c.textContent="âœ“";const s=document.createElement("span");s.textContent=t[e].title,o.appendChild(c),o.appendChild(s),d.appendChild(o),n.appendChild(d)}};return{add_to_sidebar:e=>{const d=document.createElement("li");return d.textContent=e,t.appendChild(d),d},remove_from_sidebar:e=>{for(let d=0;d<t.childNodes.length;d++)t.childNodes[d].textContent==e&&t.childNodes[d].remove()},create_add_task_button:o,create_add_task_form:e=>{document.querySelector("#add-task-li").remove();const t=document.createElement("li"),s=document.createElement("div");s.setAttribute("class","todo-form");const r=document.createElement("input");r.setAttribute("class","text-input-todo"),r.setAttribute("type","text");const a=document.createElement("div");a.setAttribute("class","form-footer");const i=document.createElement("button");i.setAttribute("class","cancel-button"),i.textContent="Cancel",i.addEventListener("click",(()=>{t.remove(),o(n,e)}));const l=document.createElement("button");l.setAttribute("class","add-task-button"),l.textContent="Add Task",l.addEventListener("click",(()=>{t.remove();const s=d(!1,r.value);e&&(e.addItem(s),c(n,e.items)),o(n,e)})),a.appendChild(i),a.appendChild(l),s.appendChild(r),s.appendChild(a),t.appendChild(s),n.appendChild(t)},refresh_todo_list_display:c}},t=(t,d,n)=>{const o=document.querySelector("#main-content");o.innerHTML="";const c=document.querySelector("#side-bar");for(let e=0;e<c.childNodes.length;e++)if("UL"==c.childNodes[e].nodeName)for(let t=0;t<c.childNodes[e].childNodes.length;t++)"LI"==c.childNodes[e].childNodes[t].nodeName&&c.childNodes[e].childNodes[t].classList.contains("selected")&&c.childNodes[e].childNodes[t].classList.remove("selected");t.classList.add("selected");const s=document.createElement("h3");s.textContent=d;const r=document.createElement("ul");r.setAttribute("id","todo-list"),console.log(r),console.log(n),o.appendChild(s),o.appendChild(r),e().refresh_todo_list_display(r,n.items),e().create_add_task_button(r,n)},d=function(e,t,d,n,o,c){return{is_done:e,title:t,description:d,dueDate:n,priority:o,project:c,modifyProperty(e,t){this[e]=t}}},n=function(e,t){return{items:t,project_name:e,editProjectName(e){this.project_name=e},addItem:e=>{t.push(e)},removeItem:e=>{t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}}},o=n("home",[]),c=(n("sample_project",[]),n("My second amazing project",[])),s=n("My third amazing project!!",[]),r={projects:a=[],addItem:d=>{a.push(d),e().add_to_sidebar(d.project_name).addEventListener("click",(e=>t(e.target,d.project_name,d)))},removeItem:t=>{a.indexOf(t)>-1&&a.splice(a.indexOf(t),1),e().remove_from_sidebar(t.project_name)}};var a;r.addItem(s),r.removeItem(c),console.log(r),document.querySelector("#side-bar");const i=document.querySelector("#home-project"),l=document.querySelector("#today"),m=document.querySelector("#upcoming");t(i,"Home",o),i.addEventListener("click",(e=>t(e.target,"Home",o))),l.addEventListener("click",(e=>t(e.target,"Today"))),m.addEventListener("click",(e=>t(e.target,"Upcoming")))})();