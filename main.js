(()=>{"use strict";const e=(e,n,d)=>{const o=document.querySelector("#main-content");o.innerHTML="";const c=document.querySelector("#side-bar");for(let e=0;e<c.childNodes.length;e++)if("UL"==c.childNodes[e].nodeName)for(let t=0;t<c.childNodes[e].childNodes.length;t++)"LI"==c.childNodes[e].childNodes[t].nodeName&&c.childNodes[e].childNodes[t].classList.contains("selected")&&c.childNodes[e].childNodes[t].classList.remove("selected");e.classList.add("selected");const r=document.createElement("h3");r.textContent=n.project_name;const s=document.createElement("ul");s.setAttribute("id","todo-list"),o.appendChild(r),o.appendChild(s),t().refresh_todo_list_display(s,n,d),t().create_add_task_button(s,n,d)},t=()=>{document.querySelector("#side-bar");const t=document.querySelector("#projects"),d=document.querySelector("#todo-list"),o=(e,t,n)=>{const o=document.createElement("li");o.setAttribute("id","add-task-li");const r=document.createElement("button");r.setAttribute("class","add-task");const s=document.createElement("span");s.setAttribute("class","add-button"),s.textContent="+",r.appendChild(s);const i=document.createElement("span");i.textContent="Add Task",r.appendChild(i),r.addEventListener("click",(()=>c(t,n))),o.appendChild(r),e?e.appendChild(o):d.appendChild(o)},c=(e,t)=>{document.querySelector("#add-task-li").remove();const c=document.createElement("li"),i=document.createElement("div");i.setAttribute("class","todo-form");const l=document.createElement("div");l.setAttribute("class","input-part");const a=document.createElement("div");a.setAttribute("class","editor-title");const u=document.createElement("div");u.setAttribute("class","editor-description");const m=document.createElement("input");m.setAttribute("class","text-input-todo"),m.setAttribute("type","text"),m.setAttribute("placeholder","Task Name");const p=document.createElement("input");p.setAttribute("class","text-input-todo-description"),p.setAttribute("type","text"),p.setAttribute("placeholder","Description...");const h=document.createElement("div");h.setAttribute("class","editor-extra-buttons");const b=document.createElement("button");b.setAttribute("id","date-button"),b.textContent="Due date";const C=document.createElement("button");C.setAttribute("id","project-button"),C.textContent=e.project_name,C.addEventListener("click",(e=>s(t.projects,e)));const E=document.createElement("div");E.setAttribute("class","form-footer");const v=document.createElement("button");v.setAttribute("class","cancel-button"),v.textContent="Cancel",v.addEventListener("click",(()=>{c.remove(),o(d,e,t)}));const _=document.createElement("button");_.setAttribute("class","add-task-button"),_.textContent="Add Task",_.addEventListener("click",(()=>{c.remove();const s=n(!1,m.value,p.value,"2022-12-31",C.textContent);console.log(t),t.returnProject(C.textContent).addItem(s),e&&r(d,e,t),o(d,e,t)})),E.appendChild(v),E.appendChild(_),h.appendChild(b),h.appendChild(C),u.appendChild(p),a.appendChild(m),l.appendChild(a),l.appendChild(u),l.appendChild(h),i.appendChild(l),i.appendChild(E),c.appendChild(i),d.appendChild(c)},r=(e,t,n)=>{console.log(t);const c=t.items;e?e.innerHTML="":d.innerHTML="";for(let s=0;s<c.length;s++){const i=document.createElement("li"),l=document.createElement("button");l.setAttribute("class","todo-task");const a=document.createElement("div");a.setAttribute("class","checkbox"),a.textContent="âœ“",a.addEventListener("click",(d=>{c.splice(s,1),r(e,t,n),o(e,t,n)}));const u=document.createElement("span");u.textContent=c[s].title,l.appendChild(a),l.appendChild(u),i.appendChild(l),d.appendChild(i)}},s=(e,t)=>{const n=document.querySelector(".input-part"),d=document.createElement("div");d.setAttribute("class","project-dropdown");for(let n=0;n<e.length;n++){const o=document.createElement("div");o.textContent=e[n].project_name,o.addEventListener("click",(e=>{t.target.textContent=o.textContent,d.remove()})),d.appendChild(o)}n.appendChild(d)};return{add_to_sidebar:(n,d)=>{const o=document.createElement("li");o.textContent=n.project_name,o.addEventListener("click",(t=>e(t.target,n,d))),t.appendChild(o)},remove_from_sidebar:e=>{for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].textContent==e&&t.childNodes[n].remove()},create_add_task_button:o,refresh_todo_list_display:r}},n=function(e,t,n,d,o){return{is_done:e,title:t,description:n,dueDate:d,project:o,modifyProperty(e,t){this[e]=t}}},d=function(e,t){return{items:t,project_name:e,editProjectName(e){this.project_name=e},addItem:e=>{t.push(e)},removeItem:e=>{t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}}},o=d("Home",[]),c=d("Coding journey",[]),r=(s=[o],self,{projects:s,addItem:e=>{s.push(e)},removeItem:e=>{s.indexOf(e)>-1&&s.splice(s.indexOf(e),1),t().remove_from_sidebar(e.project_name)},returnProject:e=>{for(let t=0;t<s.length;t++)if(s[t].project_name===e)return s[t]}});var s;r.addItem(c),document.querySelector("#side-bar");const i=document.querySelector("#home-project");document.querySelector("#today"),document.querySelector("#upcoming");for(let e=0;e<r.projects.length;e++)"Home"!=r.projects[e].project_name&&t().add_to_sidebar(r.projects[e],r);e(i,o,r),i.addEventListener("click",(t=>e(t.target,o,r)))})();