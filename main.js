(()=>{"use strict";const e=()=>{document.querySelector("#side-bar");const t=document.querySelector("#projects"),d=document.querySelector("#todo-list"),o=(t,n,o)=>{const c=document.createElement("li");c.setAttribute("id","add-task-li");const s=document.createElement("button");s.setAttribute("class","add-task");const r=document.createElement("span");r.setAttribute("class","add-button"),r.textContent="+",s.appendChild(r);const i=document.createElement("span");i.textContent="Add Task",s.appendChild(i),s.addEventListener("click",(()=>e().create_add_task_form(n,o))),c.appendChild(s),t?t.appendChild(c):d.appendChild(c)},c=(e,t,n)=>{const s=t.items;e?e.innerHTML="":d.innerHTML="";for(let r=0;r<s.length;r++){const i=document.createElement("li"),a=document.createElement("button");a.setAttribute("class","todo-task");const l=document.createElement("div");l.setAttribute("class","checkbox"),l.textContent="âœ“",l.addEventListener("click",(d=>{s.splice(r,1),c(e,t),o(e,t,n)}));const m=document.createElement("span");m.textContent=s[r].title,a.appendChild(l),a.appendChild(m),i.appendChild(a),d.appendChild(i)}},s=(e,t)=>{const n=document.querySelector(".input-part"),d=document.createElement("div");d.setAttribute("class","project-dropdown");for(let t=0;t<e.length;t++){const n=document.createElement("div");n.textContent=e[t].project_name,n.addEventListener("click",(e=>{e.textContent=n.textContent,self.remove()})),d.appendChild(n)}n.appendChild(d)};return{add_to_sidebar:e=>{const n=document.createElement("li");return n.textContent=e,t.appendChild(n),n},remove_from_sidebar:e=>{for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].textContent==e&&t.childNodes[n].remove()},create_add_task_button:o,create_add_task_form:(e,t)=>{document.querySelector("#add-task-li").remove();const r=document.createElement("li"),i=document.createElement("div");i.setAttribute("class","todo-form");const a=document.createElement("div");a.setAttribute("class","input-part");const l=document.createElement("div");l.setAttribute("class","editor-title");const m=document.createElement("div");m.setAttribute("class","editor-description");const u=document.createElement("input");u.setAttribute("class","text-input-todo"),u.setAttribute("type","text"),u.setAttribute("placeholder","Task Name");const p=document.createElement("input");p.setAttribute("class","text-input-todo-description"),p.setAttribute("type","text"),p.setAttribute("placeholder","Description...");const h=document.createElement("div");h.setAttribute("class","editor-extra-buttons");const b=document.createElement("button");b.setAttribute("id","date-button"),b.textContent="Due date";const C=document.createElement("button");C.setAttribute("id","project-button"),C.textContent="Project",C.addEventListener("click",(e=>s(t)));const _=document.createElement("div");_.setAttribute("class","form-footer");const E=document.createElement("button");E.setAttribute("class","cancel-button"),E.textContent="Cancel",E.addEventListener("click",(()=>{r.remove(),o(d,e)}));const v=document.createElement("button");v.setAttribute("class","add-task-button"),v.textContent="Add Task",v.addEventListener("click",(()=>{r.remove();const s=n(!1,u.value);e&&(e.addItem(s),c(d,e)),o(d,e,t)})),_.appendChild(E),_.appendChild(v),h.appendChild(b),h.appendChild(C),m.appendChild(p),l.appendChild(u),a.appendChild(l),a.appendChild(m),a.appendChild(h),i.appendChild(a),i.appendChild(_),r.appendChild(i),d.appendChild(r)},refresh_todo_list_display:c,project_popup:s}},t=(t,n,d,o)=>{const c=document.querySelector("#main-content");c.innerHTML="";const s=document.querySelector("#side-bar");for(let e=0;e<s.childNodes.length;e++)if("UL"==s.childNodes[e].nodeName)for(let t=0;t<s.childNodes[e].childNodes.length;t++)"LI"==s.childNodes[e].childNodes[t].nodeName&&s.childNodes[e].childNodes[t].classList.contains("selected")&&s.childNodes[e].childNodes[t].classList.remove("selected");t.classList.add("selected");const r=document.createElement("h3");r.textContent=n;const i=document.createElement("ul");i.setAttribute("id","todo-list"),c.appendChild(r),c.appendChild(i),e().refresh_todo_list_display(i,d),console.log(o),console.log(o.length),e().create_add_task_button(i,d,o)},n=function(e,t,n,d,o,c){return{is_done:e,title:t,description:n,dueDate:d,priority:o,project:c,modifyProperty(e,t){this[e]=t}}},d=function(e,t){return{items:t,project_name:e,editProjectName(e){this.project_name=e},addItem:e=>{t.push(e)},removeItem:e=>{t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}}},o=d("Home",[]),c=(d("sample_project",[]),d("My second amazing project",[])),s=d("My third amazing project!!",[]),r={projects:i=[],addItem:n=>{i.push(n),e().add_to_sidebar(n.project_name).addEventListener("click",(e=>t(e.target,n.project_name,n)))},removeItem:t=>{i.indexOf(t)>-1&&i.splice(i.indexOf(t),1),e().remove_from_sidebar(t.project_name)}};var i;r.addItem(s),r.removeItem(c),console.log(r),document.querySelector("#side-bar");const a=document.querySelector("#home-project"),l=(document.querySelector("#today"),document.querySelector("#upcoming"),[o].concat(r.projects));t(a,"Home",o,l),a.addEventListener("click",(e=>t(e.target,"Home",o,l)))})();